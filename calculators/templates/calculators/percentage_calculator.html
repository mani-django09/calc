{% extends 'calculators/base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<style>
/* Percentage Calculator Specific Styles */
.percentage-calculator-page {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
}

.hero-banner {
    background: linear-gradient(135deg, #28a745 0%, #34ce57 100%);
    color: white;
    padding: 40px 0;
    text-align: center;
}

.hero-content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.hero-subtitle {
    font-size: 1.2rem;
    opacity: 0.9;
    margin-bottom: 1.5rem;
}

.hero-features {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
    margin-top: 20px;
}

.hero-feature {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.95rem;
}

.main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
}

.calculator-tabs {
    display: flex;
    background: white;
    border-radius: 12px 12px 0 0;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    margin-bottom: 0;
}

.tab-button {
    flex: 1;
    padding: 15px 20px;
    background: #f8f9fa;
    border: none;
    cursor: pointer;
    font-weight: 600;
    color: #666;
    transition: all 0.3s ease;
    border-bottom: 3px solid transparent;
}

.tab-button.active {
    background: white;
    color: #28a745;
    border-bottom-color: #28a745;
}

.tab-button:hover {
    background: #e9ecef;
}

.calculator-section {
    background: white;
    border-radius: 0 0 12px 12px;
    padding: 30px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid #e0e0e0;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.section-title {
    font-size: 1.8rem;
    color: #28a745;
    margin-bottom: 1.5rem;
    font-weight: 700;
}

.calculator-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: start;
}

.form-section {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 10px;
    border: 1px solid #e9ecef;
}

.results-section {
    background: #fff;
    padding: 25px;
    border-radius: 10px;
    border: 2px solid #28a745;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    color: #333;
    font-size: 0.95rem;
}

.form-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: white;
    box-sizing: border-box;
}

.form-input:focus {
    outline: none;
    border-color: #28a745;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
}

.calculate-btn {
    width: 100%;
    background: linear-gradient(135deg, #28a745 0%, #34ce57 100%);
    color: white;
    border: none;
    padding: 15px;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
}

.calculate-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
}

.calculate-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
}

.result-display {
    text-align: center;
    padding: 20px;
}

.result-value {
    font-size: 3rem;
    font-weight: 700;
    color: #28a745;
    margin-bottom: 10px;
    line-height: 1;
}

.result-label {
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 20px;
}

.result-breakdown {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
}

.result-breakdown h4 {
    color: #28a745;
    margin-bottom: 10px;
    font-size: 1rem;
}

.result-item {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
    border-bottom: 1px solid #e9ecef;
}

.result-item:last-child {
    border-bottom: none;
}

.examples-section {
    margin-top: 40px;
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.examples-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.example-card {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid #28a745;
}

.example-card h4 {
    color: #28a745;
    margin-bottom: 10px;
    font-size: 1.1rem;
}

.example-card .example-problem {
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.example-card .example-solution {
    color: #666;
    font-size: 0.9rem;
}

.tips-section {
    margin-top: 40px;
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.tips-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 20px;
}

.tip-card {
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #ffc107;
}

.tip-card h4 {
    color: #333;
    margin-bottom: 10px;
    font-size: 1rem;
}

.tip-card p {
    color: #666;
    font-size: 0.9rem;
    margin: 0;
}

.seo-content {
    margin-top: 40px;
    background: white;
    padding: 40px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.seo-content h2 {
    color: #28a745;
    font-size: 1.8rem;
    margin-bottom: 20px;
}

.seo-content h3 {
    color: #333;
    font-size: 1.3rem;
    margin: 25px 0 15px 0;
}

.seo-content h4 {
    color: #555;
    font-size: 1.1rem;
    margin: 20px 0 10px 0;
}

.seo-content p {
    color: #666;
    line-height: 1.7;
    margin-bottom: 15px;
}

.seo-content ul {
    color: #666;
    padding-left: 20px;
    margin-bottom: 15px;
}

.seo-content li {
    margin-bottom: 8px;
}

.breadcrumb {
    background: none;
    padding: 20px 0 0 0;
    margin: 0;
    font-size: 0.9rem;
}

.breadcrumb-item + .breadcrumb-item::before {
    content: ">";
    color: #666;
}

.breadcrumb-item a {
    color: #28a745;
    text-decoration: none;
}

.breadcrumb-item.active {
    color: #666;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .calculator-grid {
        grid-template-columns: 1fr;
        gap: 30px;
    }
    
    .calculator-tabs {
        flex-direction: column;
    }
    
    .tips-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .hero-content h1 {
        font-size: 1.8rem;
    }
    
    .hero-features {
        gap: 15px;
    }
    
    .hero-feature {
        font-size: 0.85rem;
    }
    
    .main-container {
        padding: 20px 10px;
    }
    
    .calculator-section,
    .examples-section,
    .tips-section,
    .seo-content {
        padding: 20px;
    }
    
    .result-value {
        font-size: 2.5rem;
    }
}

@media (max-width: 480px) {
    .hero-content h1 {
        font-size: 1.5rem;
    }
    
    .hero-features {
        flex-direction: column;
        gap: 10px;
    }
    
    .result-value {
        font-size: 2rem;
    }
    
    .examples-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<div class="percentage-calculator-page">
    <!-- Breadcrumb -->
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'calculators:home' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'calculators:home' %}">Calculators</a></li>
                <li class="breadcrumb-item active">Percentage Calculator</li>
            </ol>
        </nav>
    </div>

    <!-- Hero Banner -->
    <section class="hero-banner">
        <div class="container">
            <div class="hero-content">
                <h1>Free Percentage Calculator - Calculate Percentages Instantly</h1>
                <p class="hero-subtitle">
                    Calculate percentage increases, decreases, discounts, tips, and more with our comprehensive percentage calculator. Fast, accurate, and easy to use.
                </p>
                <div class="hero-features">
                    <div class="hero-feature">
                        <i class="fas fa-percent"></i>
                        <span>Multiple Calculations</span>
                    </div>
                    <div class="hero-feature">
                        <i class="fas fa-chart-line"></i>
                        <span>Percentage Change</span>
                    </div>
                    <div class="hero-feature">
                        <i class="fas fa-tag"></i>
                        <span>Discount Calculator</span>
                    </div>
                    <div class="hero-feature">
                        <i class="fas fa-mobile-alt"></i>
                        <span>Mobile Friendly</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Calculator -->
    <div class="container">
        <div class="main-container">
            <!-- Calculator Tabs -->
            <div class="calculator-tabs">
                <button class="tab-button active" onclick="switchTab('basic')">Basic Percentage</button>
                <button class="tab-button" onclick="switchTab('change')">Percentage Change</button>
                <button class="tab-button" onclick="switchTab('discount')">Discount & Markup</button>
                <button class="tab-button" onclick="switchTab('tip')">Tip Calculator</button>
            </div>

            <div class="calculator-section">
                <!-- Basic Percentage Tab -->
                <div id="basic-tab" class="tab-content active">
                    <h2 class="section-title">Basic Percentage Calculator</h2>
                    <div class="calculator-grid">
                        <div class="form-section">
                            <form id="basic-form">
                                <div class="form-group">
                                    <label for="basic_value" class="form-label">Value</label>
                                    <input type="number" id="basic_value" class="form-input" placeholder="100" step="any">
                                    <small class="text-muted">Enter the number you want to calculate percentage of</small>
                                </div>
                                <div class="form-group">
                                    <label for="basic_percentage" class="form-label">Percentage (%)</label>
                                    <input type="number" id="basic_percentage" class="form-input" placeholder="25" step="any">
                                    <small class="text-muted">Enter the percentage value</small>
                                </div>
                                <button type="button" class="calculate-btn" onclick="calculateBasic()">
                                    <i class="fas fa-calculator"></i> Calculate
                                </button>
                            </form>
                        </div>
                        <div class="results-section">
                            <div class="result-display" id="basic-result">
                                <div class="result-value">0</div>
                                <div class="result-label">Enter values to calculate</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Percentage Change Tab -->
                <div id="change-tab" class="tab-content">
                    <h2 class="section-title">Percentage Change Calculator</h2>
                    <div class="calculator-grid">
                        <div class="form-section">
                            <form id="change-form">
                                <div class="form-group">
                                    <label for="old_value" class="form-label">Original Value</label>
                                    <input type="number" id="old_value" class="form-input" placeholder="100" step="any">
                                    <small class="text-muted">Enter the original/starting value</small>
                                </div>
                                <div class="form-group">
                                    <label for="new_value" class="form-label">New Value</label>
                                    <input type="number" id="new_value" class="form-input" placeholder="120" step="any">
                                    <small class="text-muted">Enter the new/ending value</small>
                                </div>
                                <button type="button" class="calculate-btn" onclick="calculateChange()">
                                    <i class="fas fa-calculator"></i> Calculate Change
                                </button>
                            </form>
                        </div>
                        <div class="results-section">
                            <div class="result-display" id="change-result">
                                <div class="result-value">0%</div>
                                <div class="result-label">Enter values to calculate</div>
                                <div class="result-breakdown" style="display: none;">
                                    <h4>Calculation Details</h4>
                                    <div class="result-item">
                                        <span>Change Type:</span>
                                        <span id="change-type">-</span>
                                    </div>
                                    <div class="result-item">
                                        <span>Absolute Change:</span>
                                        <span id="absolute-change">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Discount & Markup Tab -->
                <div id="discount-tab" class="tab-content">
                    <h2 class="section-title">Discount & Markup Calculator</h2>
                    <div class="calculator-grid">
                        <div class="form-section">
                            <form id="discount-form">
                                <div class="form-group">
                                    <label for="original_price" class="form-label">Original Price</label>
                                    <input type="number" id="original_price" class="form-input" placeholder="100" step="0.01" min="0">
                                    <small class="text-muted">Enter the original price</small>
                                </div>
                                <div class="form-group">
                                    <label for="discount_percent" class="form-label">Discount/Markup (%)</label>
                                    <input type="number" id="discount_percent" class="form-input" placeholder="20" step="any">
                                    <small class="text-muted">Enter positive for discount, negative for markup</small>
                                </div>
                                <button type="button" class="calculate-btn" onclick="calculateDiscount()">
                                    <i class="fas fa-calculator"></i> Calculate Price
                                </button>
                            </form>
                        </div>
                        <div class="results-section">
                            <div class="result-display" id="discount-result">
                                <div class="result-value">$0.00</div>
                                <div class="result-label">Final Price</div>
                                <div class="result-breakdown" style="display: none;">
                                    <h4>Price Breakdown</h4>
                                    <div class="result-item">
                                        <span>Original Price:</span>
                                        <span id="original-price-display">$0.00</span>
                                    </div>
                                    <div class="result-item">
                                        <span>Discount/Markup:</span>
                                        <span id="discount-amount">$0.00</span>
                                    </div>
                                    <div class="result-item">
                                        <span>You Save:</span>
                                        <span id="savings-amount">$0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tip Calculator Tab -->
                <div id="tip-tab" class="tab-content">
                    <h2 class="section-title">Tip Calculator</h2>
                    <div class="calculator-grid">
                        <div class="form-section">
                            <form id="tip-form">
                                <div class="form-group">
                                    <label for="bill_amount" class="form-label">Bill Amount</label>
                                    <input type="number" id="bill_amount" class="form-input" placeholder="50.00" step="0.01" min="0">
                                    <small class="text-muted">Enter the total bill amount</small>
                                </div>
                                <div class="form-group">
                                    <label for="tip_percent" class="form-label">Tip Percentage (%)</label>
                                    <input type="number" id="tip_percent" class="form-input" placeholder="15" step="any" min="0">
                                    <small class="text-muted">Enter the tip percentage</small>
                                </div>
                                <div class="form-group">
                                    <label for="people_count" class="form-label">Number of People</label>
                                    <input type="number" id="people_count" class="form-input" placeholder="1" min="1" value="1">
                                    <small class="text-muted">Enter number of people splitting the bill</small>
                                </div>
                                <button type="button" class="calculate-btn" onclick="calculateTip()">
                                    <i class="fas fa-calculator"></i> Calculate Tip
                                </button>
                            </form>
                        </div>
                        <div class="results-section">
                            <div class="result-display" id="tip-result">
                                <div class="result-value">$0.00</div>
                                <div class="result-label">Per Person</div>
                                <div class="result-breakdown" style="display: none;">
                                    <h4>Bill Breakdown</h4>
                                    <div class="result-item">
                                        <span>Original Bill:</span>
                                        <span id="original-bill">$0.00</span>
                                    </div>
                                    <div class="result-item">
                                        <span>Tip Amount:</span>
                                        <span id="tip-amount">$0.00</span>
                                    </div>
                                    <div class="result-item">
                                        <span>Total Bill:</span>
                                        <span id="total-bill">$0.00</span>
                                    </div>
                                    <div class="result-item">
                                        <span>Per Person:</span>
                                        <span id="per-person">$0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="examples-section">
                <h2 class="section-title">Percentage Calculator Examples</h2>
                <div class="examples-grid">
                    <div class="example-card">
                        <h4>Basic Percentage Calculation</h4>
                        <div class="example-problem">What is 25% of 200?</div>
                        <div class="example-solution">25% of 200 = (25 ÷ 100) × 200 = 50</div>
                    </div>
                    <div class="example-card">
                        <h4>Percentage Increase</h4>
                        <div class="example-problem">Price increased from $100 to $120</div>
                        <div class="example-solution">Percentage increase = ((120-100) ÷ 100) × 100 = 20%</div>
                    </div>
                    <div class="example-card">
                        <h4>Discount Calculation</h4>
                        <div class="example-problem">20% discount on $150 item</div>
                        <div class="example-solution">Final price = $150 - (20% of $150) = $150 - $30 = $120</div>
                    </div>
                    <div class="example-card">
                        <h4>Tip Calculation</h4>
                        <div class="example-problem">15% tip on $80 bill for 4 people</div>
                        <div class="example-solution">Tip = $12, Total = $92, Per person = $23</div>
                    </div>
                </div>
            </div>

            <!-- Tips Section -->
            <div class="tips-section">
                <h2 class="section-title">Percentage Calculation Tips</h2>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>Quick Mental Math</h4>
                        <p>To find 10%, move the decimal point one place left. For 5%, find 10% and divide by 2.</p>
                    </div>
                    <div class="tip-card">
                        <h4>Percentage vs Percentage Points</h4>
                        <p>A change from 20% to 25% is a 5 percentage point increase, but a 25% relative increase.</p>
                    </div>
                    <div class="tip-card">
                        <h4>Compound Percentages</h4>
                        <p>When applying multiple percentage changes, calculate each step separately, not by adding percentages.</p>
                    </div>
                    <div class="tip-card">
                        <h4>Reverse Calculations</h4>
                        <p>If you know the percentage result, you can work backwards to find the original value or percentage.</p>
                    </div>
                </div>
            </div>

            <!-- SEO Content Section -->
            <div class="seo-content">
                <h2>Complete Guide to Percentage Calculations: Master Every Type</h2>
                
                <h3>What is a Percentage Calculator and How Does It Work?</h3>
                <p>A percentage calculator is a mathematical tool that helps you perform various percentage-related calculations quickly and accurately. Whether you need to calculate basic percentages, percentage changes, discounts, markups, or tips, our comprehensive percentage calculator handles all types of percentage math with precision.</p>
                
                <h3>Types of Percentage Calculations You Can Perform</h3>
                
                <h4>Basic Percentage Calculation</h4>
                <p>The most fundamental percentage calculation answers the question "What is X% of Y?" This calculation is used daily in many contexts:</p>
                <ul>
                    <li><strong>Sales Tax Calculation:</strong> Calculate how much tax you'll pay on a purchase</li>
                    <li><strong>Grade Calculations:</strong> Determine what percentage of questions you answered correctly</li>
                    <li><strong>Business Analytics:</strong> Calculate what percentage of your budget goes to different expenses</li>
                    <li><strong>Financial Planning:</strong> Determine percentage allocations for investments</li>
                </ul>
                <p>The formula is: (Percentage ÷ 100) × Value = Result</p>
                
                <h4>Percentage Change Calculator</h4>
                <p>Percentage change calculations help you understand how much something has increased or decreased relative to its original value. This is crucial for:</p>
                <ul>
                    <li><strong>Stock Market Analysis:</strong> Track gains and losses in investment portfolios</li>
                    <li><strong>Business Growth:</strong> Measure revenue, profit, or customer growth</li>
                    <li><strong>Economic Indicators:</strong> Understanding inflation, unemployment rate changes</li>
                    <li><strong>Performance Metrics:</strong> Measuring improvement in various KPIs</li>
                </ul>
                <p>The formula is: ((New Value - Original Value) ÷ Original Value) × 100 = Percentage Change</p>
                
                <h4>Discount and Markup Calculator</h4>
                <p>Discount and markup calculations are essential for retail, e-commerce, and business pricing strategies:</p>
                <ul>
                    <li><strong>Retail Discounts:</strong> Calculate sale prices and customer savings</li>
                    <li><strong>Wholesale Markup:</strong> Determine selling prices from cost prices</li>
                    <li><strong>Promotional Pricing:</strong> Plan marketing campaigns with percentage-off deals</li>
                    <li><strong>Profit Margin Analysis:</strong> Understand pricing impact on profitability</li>
                </ul>
                
                <h4>Tip Calculator</h4>
                <p>Tip calculations help ensure fair compensation in service industries and make bill splitting easier:</p>
                <ul>
                    <li><strong>Restaurant Tipping:</strong> Calculate appropriate tips based on service quality</li>
                    <li><strong>Service Industry:</strong> Determine tips for delivery, taxi, hotel services</li>
                    <li><strong>Group Dining:</strong> Split bills and tips fairly among multiple people</li>
                    <li><strong>International Travel:</strong> Adjust tipping based on local customs</li>
                </ul>
                
                <h3>Advanced Percentage Calculation Concepts</h3>
                
                <h4>Compound Percentage Changes</h4>
                <p>When multiple percentage changes occur sequentially, you cannot simply add the percentages. For example, a 10% increase followed by a 10% decrease doesn't result in no change—it results in a 1% decrease overall.</p>
                
                <h4>Percentage Points vs Percentage Change</h4>
                <p>Understanding the difference between percentage points and percentage change is crucial for accurate analysis. If unemployment rises from 5% to 7%, that's a 2 percentage point increase but a 40% relative increase.</p>
                
                <h4>Reverse Percentage Calculations</h4>
                <p>Sometimes you need to work backwards from a percentage result to find the original value or the percentage itself. Our calculator handles these reverse calculations automatically.</p>
                
                <h3>Common Percentage Calculation Use Cases</h3>
                
                <h4>Educational Applications</h4>
                <p>Students and educators use percentage calculators for:</p>
                <ul>
                    <li>Grade calculations and GPA conversions</li>
                    <li>Test score analysis and improvement tracking</li>
                    <li>Statistical analysis in research projects</li>
                    <li>Understanding probability and statistics concepts</li>
                </ul>
                
                <h4>Business and Finance</h4>
                <p>Professionals rely on percentage calculations for:</p>
                <ul>
                    <li>Financial statement analysis and ratio calculations</li>
                    <li>Investment returns and portfolio performance</li>
                    <li>Budget planning and expense tracking</li>
                    <li>Market share analysis and competitive benchmarking</li>
                    <li>Employee performance reviews and salary adjustments</li>
                </ul>
                
                <h4>Personal Finance</h4>
                <p>Individuals use percentage calculators for:</p>
                <ul>
                    <li>Loan interest calculations and payment planning</li>
                    <li>Savings goals and emergency fund planning</li>
                    <li>Insurance deductibles and coverage calculations</li>
                    <li>Tax calculations and withholding adjustments</li>
                    <li>Investment allocation and rebalancing</li>
                </ul>
                
                <h4>Shopping and Consumer Applications</h4>
                <p>Consumers benefit from percentage calculations when:</p>
                <ul>
                    <li>Comparing prices and calculating best deals</li>
                    <li>Understanding cashback and rewards percentages</li>
                    <li>Calculating sales tax and total purchase costs</li>
                    <li>Evaluating subscription service value propositions</li>
                    <li>Planning major purchases with financing options</li>
                </ul>
                
                <h3>How to Use Our Percentage Calculator Effectively</h3>
                
                <h4>Step-by-Step Guide</h4>
                <p>Follow these steps to get accurate percentage calculations:</p>
                <ul>
                    <li><strong>Choose the Right Calculator:</strong> Select the appropriate tab based on your calculation type</li>
                    <li><strong>Enter Accurate Values:</strong> Double-check your input numbers for accuracy</li>
                    <li><strong>Review Results:</strong> Always verify that the result makes logical sense</li>
                    <li><strong>Use Breakdown Information:</strong> Check the detailed breakdown for better understanding</li>
                </ul>
                
                <h4>Common Mistakes to Avoid</h4>
                <ul>
                    <li>Confusing percentage points with percentage changes</li>
                    <li>Adding percentages when compound calculations are needed</li>
                    <li>Using the wrong base value for percentage calculations</li>
                    <li>Misunderstanding the direction of percentage changes</li>
                    <li>Rounding too early in multi-step calculations</li>
                </ul>
                
                <h3>Percentage Calculation Formulas and Examples</h3>
                
                <h4>Basic Percentage Formula</h4>
                <p><strong>Formula:</strong> Percentage of a Number = (Percentage ÷ 100) × Number</p>
                <p><strong>Example:</strong> What is 15% of 240?</p>
                <p><strong>Solution:</strong> (15 ÷ 100) × 240 = 0.15 × 240 = 36</p>
                
                <h4>Percentage Change Formula</h4>
                <p><strong>Formula:</strong> Percentage Change = ((New Value - Old Value) ÷ Old Value) × 100</p>
                <p><strong>Example:</strong> A stock price changed from $50 to $65</p>
                <p><strong>Solution:</strong> ((65 - 50) ÷ 50) × 100 = (15 ÷ 50) × 100 = 30% increase</p>
                
                <h4>Discount Calculation Formula</h4>
                <p><strong>Formula:</strong> Final Price = Original Price - (Discount Percentage ÷ 100) × Original Price</p>
                <p><strong>Example:</strong> 25% discount on a $80 item</p>
                <p><strong>Solution:</strong> $80 - (25 ÷ 100) × $80 = $80 - $20 = $60</p>
                
                <h3>Real-World Applications and Industry Uses</h3>
                
                <h4>Healthcare and Medicine</h4>
                <p>Medical professionals use percentage calculations for:</p>
                <ul>
                    <li>Medication dosage calculations based on body weight</li>
                    <li>Success rates of medical procedures and treatments</li>
                    <li>Patient improvement tracking and recovery metrics</li>
                    <li>Epidemiological studies and disease prevalence</li>
                </ul>
                
                <h4>Sports and Athletics</h4>
                <p>Sports analysts and athletes rely on percentages for:</p>
                <ul>
                    <li>Shooting percentages in basketball and hockey</li>
                    <li>Completion rates in football and other sports</li>
                    <li>Performance improvement tracking over seasons</li>
                    <li>Win-loss records and playoff probabilities</li>
                </ul>
                
                <h4>Marketing and Advertising</h4>
                <p>Marketing professionals use percentage calculations for:</p>
                <ul>
                    <li>Conversion rate optimization and A/B testing</li>
                    <li>Customer acquisition cost and lifetime value analysis</li>
                    <li>Email open rates and click-through rates</li>
                    <li>Social media engagement and growth metrics</li>
                </ul>
                
                <h4>Manufacturing and Quality Control</h4>
                <p>Industrial applications include:</p>
                <ul>
                    <li>Defect rates and quality control standards</li>
                    <li>Production efficiency and waste reduction</li>
                    <li>Material composition and chemical concentrations</li>
                    <li>Equipment uptime and maintenance scheduling</li>
                </ul>
                
                <h3>Advanced Percentage Concepts for Professionals</h3>
                
                <h4>Weighted Percentages</h4>
                <p>When dealing with data that has different importance levels, weighted percentages provide more accurate analysis. This is crucial in:</p>
                <ul>
                    <li>Grade calculations with different assignment weights</li>
                    <li>Investment portfolio analysis with varying allocations</li>
                    <li>Survey data analysis with demographic adjustments</li>
                    <li>Performance metrics with priority-based scoring</li>
                </ul>
                
                <h4>Cumulative Percentages</h4>
                <p>Cumulative percentage calculations help track progressive totals and are essential for:</p>
                <ul>
                    <li>Sales target achievement tracking throughout the year</li>
                    <li>Budget consumption monitoring across departments</li>
                    <li>Project completion milestone tracking</li>
                    <li>Student grade distribution analysis</li>
                </ul>
                
                <h3>Percentage Calculator Tips for Different Scenarios</h3>
                
                <h4>Shopping and Retail</h4>
                <ul>
                    <li>Always calculate the final price including tax when comparing deals</li>
                    <li>Consider stacking discounts (if allowed) for maximum savings</li>
                    <li>Use percentage calculations to evaluate bulk purchase savings</li>
                    <li>Calculate the true cost per unit when comparing different package sizes</li>
                </ul>
                
                <h4>Investment and Finance</h4>
                <ul>
                    <li>Calculate annual percentage yield (APY) for accurate return comparisons</li>
                    <li>Use percentage allocation for portfolio diversification</li>
                    <li>Track percentage-based fees and their impact on returns</li>
                    <li>Calculate effective interest rates on loans and credit cards</li>
                </ul>
                
                <h4>Academic and Research</h4>
                <ul>
                    <li>Use percentage calculations for statistical significance testing</li>
                    <li>Calculate margin of error in survey research</li>
                    <li>Determine confidence intervals using percentage ranges</li>
                    <li>Analyze percentage distributions in data sets</li>
                </ul>
                
                <h3>Frequently Asked Questions About Percentage Calculations</h3>
                
                <h4>What's the difference between percentage increase and percentage of increase?</h4>
                <p>Percentage increase shows how much something has grown relative to its original value, while percentage of increase is the same concept expressed differently. Both refer to the relative change calculation.</p>
                
                <h4>How do I calculate percentage when the original value is zero?</h4>
                <p>Percentage change cannot be calculated when the original value is zero, as it would involve division by zero. In such cases, report the absolute change or use alternative metrics.</p>
                
                <h4>Can percentages exceed 100%?</h4>
                <p>Yes, percentages can exceed 100%. For example, if something doubles, that's a 100% increase. If it triples, that's a 200% increase.</p>
                
                <h4>How accurate should percentage calculations be?</h4>
                <p>The required accuracy depends on the context. Financial calculations often need 2-4 decimal places, while general estimates might only need whole numbers.</p>
                
                <h4>What's the relationship between percentages, decimals, and fractions?</h4>
                <p>Percentages, decimals, and fractions are different ways to express the same value. 50% = 0.5 = 1/2. Understanding these relationships helps with mental math and verification.</p>
                
                <h3>Best Practices for Percentage Calculations</h3>
                
                <h4>Accuracy and Precision</h4>
                <ul>
                    <li>Use sufficient decimal places for intermediate calculations</li>
                    <li>Round only the final result to avoid compound rounding errors</li>
                    <li>Verify calculations using alternative methods when possible</li>
                    <li>Consider the precision of your input data when reporting results</li>
                </ul>
                
                <h4>Communication and Reporting</h4>
                <ul>
                    <li>Always specify the base value when reporting percentages</li>
                    <li>Include absolute numbers alongside percentages for context</li>
                    <li>Use clear language to distinguish between different types of percentage calculations</li>
                    <li>Provide calculation details when accuracy is critical</li>
                </ul>
                
                <h4>Error Prevention</h4>
                <ul>
                    <li>Double-check input values before calculating</li>
                    <li>Verify that results make logical sense in context</li>
                    <li>Use multiple calculation methods for important decisions</li>
                    <li>Be aware of common percentage calculation pitfalls</li>
                </ul>
                
                <h3>Conclusion</h3>
                <p>Percentage calculations are fundamental to many aspects of modern life, from personal finance and shopping to business analytics and scientific research. Our comprehensive percentage calculator provides accurate, instant results for all common percentage calculation types, helping you make informed decisions and solve mathematical problems efficiently.</p>
                
                <p>Whether you're a student learning percentage concepts, a professional analyzing business metrics, or someone making everyday calculations, understanding percentages and having reliable calculation tools is essential. Use our calculator for quick, accurate results, and refer to this guide for deeper understanding of percentage calculation principles and applications.</p>
            </div>
        </div>
    </div>
</div>

<script>
// Percentage Calculator JavaScript
function switchTab(tabName) {
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Remove active class from all tab buttons
    document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
    });
    
    // Show selected tab content
    document.getElementById(tabName + '-tab').classList.add('active');
    
    // Add active class to selected button
    event.target.classList.add('active');
}

function calculateBasic() {
    const value = parseFloat(document.getElementById('basic_value').value);
    const percentage = parseFloat(document.getElementById('basic_percentage').value);
    
    if (isNaN(value) || isNaN(percentage)) {
        document.getElementById('basic-result').innerHTML = `
            <div class="result-value">Error</div>
            <div class="result-label">Please enter valid numbers</div>
        `;
        return;
    }
    
    const result = (percentage / 100) * value;
    
    document.getElementById('basic-result').innerHTML = `
        <div class="result-value">${result.toFixed(2)}</div>
        <div class="result-label">${percentage}% of ${value}</div>
        <div class="result-breakdown">
            <h4>Calculation</h4>
            <div class="result-item">
                <span>Formula:</span>
                <span>(${percentage} ÷ 100) × ${value}</span>
            </div>
            <div class="result-item">
                <span>Result:</span>
                <span>${result.toFixed(2)}</span>
            </div>
        </div>
    `;
}

function calculateChange() {
    const oldValue = parseFloat(document.getElementById('old_value').value);
    const newValue = parseFloat(document.getElementById('new_value').value);
    
    if (isNaN(oldValue) || isNaN(newValue)) {
        document.getElementById('change-result').innerHTML = `
            <div class="result-value">Error</div>
            <div class="result-label">Please enter valid numbers</div>
        `;
        return;
    }
    
    if (oldValue === 0) {
        document.getElementById('change-result').innerHTML = `
            <div class="result-value">Undefined</div>
            <div class="result-label">Cannot calculate when original value is 0</div>
        `;
        return;
    }
    
    const change = newValue - oldValue;
    const percentChange = (change / oldValue) * 100;
    const changeType = change >= 0 ? 'Increase' : 'Decrease';
    
    document.getElementById('change-result').innerHTML = `
        <div class="result-value">${Math.abs(percentChange).toFixed(2)}%</div>
        <div class="result-label">${changeType}</div>
        <div class="result-breakdown" style="display: block;">
            <h4>Calculation Details</h4>
            <div class="result-item">
                <span>Change Type:</span>
                <span id="change-type">${changeType}</span>
            </div>
            <div class="result-item">
                <span>Absolute Change:</span>
                <span id="absolute-change">${Math.abs(change).toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Formula:</span>
                <span>((${newValue} - ${oldValue}) ÷ ${oldValue}) × 100</span>
            </div>
        </div>
    `;
}

function calculateDiscount() {
    const originalPrice = parseFloat(document.getElementById('original_price').value);
    const discountPercent = parseFloat(document.getElementById('discount_percent').value);
    
    if (isNaN(originalPrice) || isNaN(discountPercent)) {
        document.getElementById('discount-result').innerHTML = `
            <div class="result-value">Error</div>
            <div class="result-label">Please enter valid numbers</div>
        `;
        return;
    }
    
    const discountAmount = (discountPercent / 100) * originalPrice;
    const finalPrice = originalPrice - discountAmount;
    const isDiscount = discountPercent > 0;
    
    document.getElementById('discount-result').innerHTML = `
        <div class="result-value">$${finalPrice.toFixed(2)}</div>
        <div class="result-label">Final Price</div>
        <div class="result-breakdown" style="display: block;">
            <h4>Price Breakdown</h4>
            <div class="result-item">
                <span>Original Price:</span>
                <span>$${originalPrice.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>${isDiscount ? 'Discount' : 'Markup'}:</span>
                <span>$${Math.abs(discountAmount).toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>You ${isDiscount ? 'Save' : 'Pay Extra'}:</span>
                <span>$${Math.abs(discountAmount).toFixed(2)}</span>
            </div>
        </div>
    `;
}

function calculateTip() {
    const billAmount = parseFloat(document.getElementById('bill_amount').value);
    const tipPercent = parseFloat(document.getElementById('tip_percent').value);
    const peopleCount = parseInt(document.getElementById('people_count').value);
    
    if (isNaN(billAmount) || isNaN(tipPercent) || isNaN(peopleCount) || peopleCount < 1) {
        document.getElementById('tip-result').innerHTML = `
            <div class="result-value">Error</div>
            <div class="result-label">Please enter valid numbers</div>
        `;
        return;
    }
    
    const tipAmount = (tipPercent / 100) * billAmount;
    const totalBill = billAmount + tipAmount;
    const perPerson = totalBill / peopleCount;
    
    document.getElementById('tip-result').innerHTML = `
        <div class="result-value">$${perPerson.toFixed(2)}</div>
        <div class="result-label">Per Person</div>
        <div class="result-breakdown" style="display: block;">
            <h4>Bill Breakdown</h4>
            <div class="result-item">
                <span>Original Bill:</span>
                <span>$${billAmount.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Tip Amount:</span>
                <span>$${tipAmount.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Total Bill:</span>
                <span>$${totalBill.toFixed(2)}</span>
            </div>
            <div class="result-item">
                <span>Per Person:</span>
                <span>$${perPerson.toFixed(2)}</span>
            </div>
        </div>
    `;
}

// Add event listeners for real-time calculation
document.addEventListener('DOMContentLoaded', function() {
    // Basic calculator inputs
    document.getElementById('basic_value').addEventListener('input', calculateBasic);
    document.getElementById('basic_percentage').addEventListener('input', calculateBasic);
    
    // Change calculator inputs
    document.getElementById('old_value').addEventListener('input', calculateChange);
    document.getElementById('new_value').addEventListener('input', calculateChange);
    
    // Discount calculator inputs
    document.getElementById('original_price').addEventListener('input', calculateDiscount);
    document.getElementById('discount_percent').addEventListener('input', calculateDiscount);
    
    // Tip calculator inputs
    document.getElementById('bill_amount').addEventListener('input', calculateTip);
    document.getElementById('tip_percent').addEventListener('input', calculateTip);
    document.getElementById('people_count').addEventListener('input', calculateTip);
});
</script>

<!-- Schema.org structured data for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Percentage Calculator",
  "description": "Free online percentage calculator to calculate percentages, percentage changes, discounts, tips, and more. Fast, accurate, and easy to use.",
  "url": "{{ request.build_absolute_uri }}",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "provider": {
    "@type": "Organization",
    "name": "myCalculator.us",
    "url": "{% url 'calculators:home' %}"
  },
  "featureList": [
    "Calculate basic percentages",
    "Calculate percentage changes",
    "Discount and markup calculator",
    "Tip calculator with bill splitting",
    "Real-time calculations",
    "Mobile-friendly interface",
    "Detailed calculation breakdowns"
  ]
}
</script>
{% endblock %}